## Logs
After being successfully started, Kyligence Enterprise will create a directory named `logs/` by default, all logs generated during Kyligence Enterprise runtime will be stored in this directory.

### Log files
Log files generated by Kyligence Enterprise is as followings,

#### `kylin.log`
This file is Kyligence Enterprise's main log file, whose default logging level is DEBUG.

#### `kylin.out`
The standard output of Kyligence Enterprise process will be redirected to this file, including the output of Tomcat and Hive.

#### `kylin.gc`
This file is the GC(Garbage Collection) log of Kyligence Enterprise Java process. And it appends pid as filename suffix to avoid being overwritten.

#### `canary.log`
This file stores the results of service status detection every 15 minutes since Kyligence Enterprise v2.5.6. Besides, the result of service status detection manually through command lines will be included in this file.

#### `check-env.out`
The standard output of executing `check-env.sh` script will be redirected to this file.

#### `check-env.error`
The error message of executing `check-env.sh` script will be redirected to this file.

#### `shell.stderr`
The result of running command lines will be stored in this file.

#### `shell.stdout`
The standard output of running command lines will be redirected to this file.

#### `cluster.info`
This file includes the information of the cluster.



### Logging Analysis
Take query as an example, submitting a query on Web UI, and we'll see the following information in `kylin.log` 


```
==========================[QUERY]===============================
SQL: select * from kylin_sales
User: ADMIN
Success: false
Duration: 3.558
Project: learn_kylin
Realization Names: [CUBE[name=kylin_sales_cube]
Cuboid Ids: [99]
Total scan count: 66
Total scan bytes: 1903
Result row count: 0
Accept Partial: true
Is Partial Result: false
Hit Exception Cache: false
Storage cache used: false
Is Query Push-Down: false
Is Prepare: false
Trace URL: null
Message: Something complex went wrong. null Please contact Kyligence Enterprise technical support for more details. 
==========================[QUERY]===============================
```

* `SQL:` The SQL statement
* `User:` The username of submitter
* `Success:` Whether this query succeeded
* `Duration:` The duration of this query, in seconds
* `Project:` The project of this query
* `Realization Names:` The Cube used for this query
* `Hit Exception Cache:` Whether this query hit cache
* `Is Query Push-Down:`Whether this query is pushdown to other engines
* `Message:`Message prompted in UI page when this query finished

### Logging Configuration
Kyligence Enterprise leverages log4j for logging configuration. Users can edit `$KYLIN_HOME/conf/kylin-server-log4j.properties` to modify logging level, log files and etc.
> *Tips:* Restarting Kyligence Enterprise is necessary to make the configurations work.

#### Log output type 
Log output type can be configured in `kylin-server-log4j.properties`.
The default log output type is `org.apache.log4j.RollingFileAppender`, which means when the file size reaches a specified value, a new file is generated. The specified value can be set by `log4j.appender.file.MaxFileSize`,  which is 268435456 by default.
And if users want to generate logs by day, they can modify the parameter `log4j.appender.file` to `org.apache.log4j.DailyRollingFileAppender`.

#### Log file quantity
Log file quantity is 10 by default, which means at most 10 files can be saved, and users can set `log4j.appender.file.MaxBackupIndex` to a larger value to keep more files.
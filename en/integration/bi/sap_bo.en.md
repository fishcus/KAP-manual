## SAP Business Objects

SAP BusinessObjects (SAP BO) is a SAP business intelligence product. This article walks you through the steps to connect SAP BO Web Intelligence 4.1 to Kyligence Enterprise.

### Prerequisite
- Kyligence Enterprise version is higher than 3.0
- Kyligence ODBC Driver version is higher than 2.2

- Kyligence ODBC Driver 64 bit is installed on your SAP BO machine and DSN is configured. For the configuration of Kyligence ODBC Driver and DSN, please refer to [Installing and Configuring Kyligence ODBC Driver under Windows](../driver/odbc/win_odbc.en.md).


### Modeling with the universe design tool

1. **Manage data connections**

   Open Universe Design Tool on your windows.

   - Click **Connections** to manage the data connection

   ![](../images/SAP_BO/connections.png)

   Click **New Connection** to add a connection.

   ![](../images/SAP_BO/add_connection.png)

   For **Connection Type**, choose **Shared** and input a connection name.

   ![](../images/SAP_BO/add_connection_next.png)

   Select the **Generic ODBC datasource**

   ![](../images/SAP_BO/generic_odbc.png)

   Enter your Kyligence username and password, choose DSN name, then click Next.

   ![](../images/SAP_BO/define_connection.png)

   Select the Connection Pool Mode to **Keep the connection active during the whole session**, then click next and save the connection

   ![](../images/SAP_BO/keep_connection.png)

2. **Create a data model**

   In **Universe design tool**, open Quick Design Wizard, create a model using the newly created connection. In the Step 1 of the wizard, enter a universe name and choose the shared connections created in the previous step.

   ![](../images/SAP_BO/open_universe.png)

   Add the table you want to use to the right side panel

   ![](../images/SAP_BO/add_universe_table.png)

   Add the measure to the right side panel as an aggregated form.

   Click next and save to finish the Quick Design Wizard.

   > Noteï¼š In order to leverage the pre-calculation in Kyligence Enterprise Cube, the measure defined in Quick Design Wizard need to consistent with measures in the Cube.

   ![](../images/SAP_BO/add_universe_sum.png)

   After importing the table, it will enter the modeling process. Firstly, the connection relationship will be automatically matched according to the column name. If you have a table that is not connected, you can click **add connection** to create one.

   ![](../images/SAP_BO/universe_model.png)

   Define all the joins between tables.

   If you want to edit all the relationships, click the join line to modify the connection.

   ![](../images/SAP_BO/universe_connection.png)

### Create a report

Open Web Intelligence Rich client, under Universe choose the data source you created in previous step to create a query.

![Run Query](../images/SAP_BO/choose_data_source_in_rich_client.png)

   ![](../images/SAP_BO/create_query.png)

Click **Run Query** on the top right of the panel, and you can get a report

   ![](../images/SAP_BO/3.2_queryend.png)

### Method of replacing a data source

- **Method 1: Modify in the report**

   First you need to create a universe of kyligence, then click **Data Access** - **Tools** - **Change Source** in the report design page. And select other universe, click **Run Query** in the query interface to restore the report.

   ![](../images/SAP_BO/4.1.png)

- **Method 2: Modify on Universe design tool**

   Edit Connection in Universe

   ![](../images/SAP_BO/4.5.png)

   Modify the DSN to the DSN that map to Kyligence Enterprise and save it

### FAQ

**Q:Queries generated by BO will be accompanied by database name, including default database How "default" is a key word in the Kyligence Enterprise that need to be escaped with double quote.**

Please set `kylin.query.escape-default-keyword` to true in **kylin.properties**, and Kyligence Enterprise will automatically escape default to "DEFAULT".

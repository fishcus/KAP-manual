## 多租户部署

大企业在统一平台架构下，为了实现在各个业务部门之间数据与资源的隔离，保障部门间应用不相互影响，Kyligence Enterprise 支持了多租户部署模式。不同部门的**项目**可以放入不同的**租户**，不同的租户独占一套 Enterprise 进程资源，从而实现了应用程序资源的完全隔离。



### 多租户架构



### 如何实现资源隔离

在多租户架构中，租户作为 KyligenceEnterprise 物理资源的管理单元，可以从项目级别进行绑定。每个租户会拥有独立的构建和查询节点，通过负载均衡器将租户的业务请求分发到对应的实例，这里所有的实例共享元数据和集群计算资源，对于上层用户来说，这里的业务路由是透明的，通过多租户方式使用 Kyligence Enterprise 和普通部署功能上并没有任何不同，但是通过隔离机制，各个租户的构建数据是相互独立的。

**存储资源隔离**

HDFS目录会按照**项目目录**进行隔离，每个项目的构建数据单独存储，通过启动服务实例的 Linux/Hadoop账户保障访问权限。

**计算资源隔离**

提供项目级 YARN 队列配置，不同的项目可以配置不同的队列。同时每个租户内配置单独的一套 Kyligence 集群，当其他租户遇到服务不可用时，不会影响到其他租户内的应用。



### **如何部署**

该部署模式需要通过 Kyligence Manager 进行管理和部署，更多信息请参考 [Kyligence Manager 手册](https://docs.kyligence.io/books/manager/v1.0/zh-cn/index.html)。
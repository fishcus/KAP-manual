## 自定义增量构建

除了全量构建，按照日期/时间构建，按照文件构建，流式构建之外，用户可能需要更多、更灵活的构建方式。本产品从3.2开始提供自定义增量构建方式。用户可以在系统中自定义专门的 Cube 增量构建的方式以满足生产需求。



### 模型设置构建类型

1. 选择构建类型

   如果我们在保存模型时将增量数据加载类型设置为**自定义**，则在该模型中设计的 Cube 的构建类型对应着**自定义增量构建**。

   ![保存模型](images/customize_build_save_model.png)

2. 自定义增量构建 Java 类

   用户需要输入用于实现自定义增量构建的 Java 类的类名。该 Java 类应继承自父类io.kyligence….cubbuild，并实现其构建方法。在构建方法中实现构建参数到数据选择的映射。

   [示例代码]

3. Java 类初始化参数

   用户根据上面的 Java 类传入对应的参数，以实现定制的增量构建。多个参数以逗号隔开。

4. 设置 Cube 分区列

   设置了 Cube 分区列后，在此模型中设计的 Cube 将会基于指定的列进行增量构建。

   ![Cube 分区](images/customize_build_save_model_partition.png)

5. 点击提交按钮，模型就设置成功了。



**注意：**自定义增量构建的 Cube 的构建任务以及 Segment 的刷新/合并任务只能通过 REST API 提交。更多信息请参考 [Cube API](../../rest/cube_api.cn.md)。